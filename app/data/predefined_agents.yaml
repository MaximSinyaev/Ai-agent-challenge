# Предустановленные AI агенты
# Этот файл содержит конфигурации агентов, которые будут загружены при старте приложения

agents:
  # Базовый ассистент (по умолчанию)
  default:
    id: "default"
    name: "Default Assistant"
    description: "General-purpose AI assistant for various tasks and questions. Provides helpful responses on a wide range of topics."
    system_prompt: |
      You are a helpful AI assistant. Answer the user's questions to the best of your ability. 

      ABOUT YOUR CAPABILITIES:
      - I can help with general questions, explanations, writing, and problem-solving
      - I provide conversational responses without strict formatting requirements
      - I can assist with various topics including science, technology, creative tasks, and everyday questions

      SPECIALIZED AGENTS AVAILABLE:
      If users need specialized help, inform them about these expert agents:
      - Math Assistant: For mathematical problems with step-by-step solutions and verification
      - Code Assistant: For programming tasks with structured solutions, explanations, and test cases
      - Data Analyst: For data analysis, finding patterns, and providing actionable recommendations
      - Task Planner: For project management, breaking down tasks, and timeline planning

      When users ask about specific domains covered by these agents, suggest they might get better structured results by switching to the appropriate specialist agent.
    model: null # Используем дефолтную модель из конфигурации
    temperature: 0.7
    max_tokens: 1000
    response_format: null
    examples:
      - "What is the capital of France?"
      - "Can you explain quantum physics in simple terms?"
      - "Help me write a professional email"

  # Математический ассистент
  math_assistant:
    id: "math_assistant"
    name: "Math Assistant"
    description: "Specialized mathematical assistant providing structured, step-by-step solutions for math problems with verification"
    system_prompt: "You are a mathematical assistant. Solve mathematical problems step by step and structure your answers clearly. Always verify the correctness of the solution. IMPORTANT: Your response MUST follow the exact JSON schema provided. Answer in English only. Required fields: problem_analysis, solution_steps, final_answer, confidence."
    model: null # Используем дефолтную модель из конфигурации
    temperature: 0.3
    max_tokens: 2000
    response_format:
      type: "json"
      description: "Structured response for mathematical problems with step-by-step solution"
      json_schema:
        type: "object"
        properties:
          problem_analysis:
            type: "string"
            description: "Analysis of the mathematical problem"
          solution_steps:
            type: "array"
            items:
              type: "object"
              properties:
                step:
                  type: "integer"
                description:
                  type: "string"
                formula:
                  type: "string"
                calculation:
                  type: "string"
              required: ["step", "description"]
          final_answer:
            type: "string"
            description: "Final answer"
          verification:
            type: "string"
            description: "Verification of solution correctness"
          confidence:
            type: "number"
            minimum: 0
            maximum: 1
            description: "Confidence in correctness (0-1)"
        required:
          ["problem_analysis", "solution_steps", "final_answer", "confidence"]
      examples:
        - |
          {
            "problem_analysis": "Need to find the derivative of function f(x) = x² + 3x + 2",
            "solution_steps": [
              {
                "step": 1,
                "description": "Apply differentiation rule for each term",
                "formula": "d/dx(x²) + d/dx(3x) + d/dx(2)"
              },
              {
                "step": 2,
                "description": "Calculate derivative of each term",
                "calculation": "2x + 3 + 0"
              }
            ],
            "final_answer": "f'(x) = 2x + 3",
            "verification": "Check: f'(1) = 2(1) + 3 = 5. This is correct.",
            "confidence": 0.98
          }

  # Кодовый ассистент
  code_assistant:
    id: "code_assistant"
    name: "Code Assistant"
    description: "Specialized programming assistant for solving coding tasks with efficient solutions, explanations, and test cases"
    system_prompt: "You are an experienced programmer. Analyze programming tasks, suggest efficient solutions with explanations and tests. IMPORTANT: Your response MUST follow the exact JSON schema provided. Answer in English only. Required fields: task_understanding, approach, code, complexity."
    model: null # Используем дефолтную модель из конфигурации
    temperature: 0.2
    max_tokens: 2500
    response_format:
      type: "json"
      description: "Structured response for programming tasks"
      json_schema:
        type: "object"
        properties:
          task_understanding:
            type: "string"
            description: "Understanding of the task"
          approach:
            type: "string"
            description: "Selected approach to solution"
          code:
            type: "object"
            properties:
              language:
                type: "string"
                description: "Programming language"
              content:
                type: "string"
                description: "Solution code"
              explanation:
                type: "string"
                description: "Code explanation"
            required: ["language", "content", "explanation"]
          test_cases:
            type: "array"
            items:
              type: "object"
              properties:
                input:
                  type: "string"
                  description: "Test input data"
                expected_output:
                  type: "string"
                  description: "Expected result"
              required: ["input", "expected_output"]
          complexity:
            type: "object"
            properties:
              time:
                type: "string"
                description: "Time complexity"
              space:
                type: "string"
                description: "Space complexity"
            required: ["time", "space"]
          improvements:
            type: "array"
            items:
              type: "string"
            description: "Improvement suggestions"
        required: ["task_understanding", "approach", "code", "complexity"]
      examples:
        - |
          {
            "task_understanding": "Need to write a function to sort an array of integers",
            "approach": "Use Python's built-in sorting algorithm",
            "code": {
              "language": "python",
              "content": "def sort_array(arr):\n    return sorted(arr)",
              "explanation": "Function takes an array and returns a sorted array using built-in sorted() function"
            },
            "test_cases": [
              {
                "input": "[3, 1, 4, 1, 5]",
                "expected_output": "[1, 1, 3, 4, 5]"
              }
            ],
            "complexity": {
              "time": "O(n log n)",
              "space": "O(n)"
            },
            "improvements": ["Could add parameter for choosing sort direction"]
          }

  # Аналитический ассистент
  data_analyst:
    id: "data_analyst"
    name: "Data Analyst"
    description: "Data analysis assistant for extracting insights, finding patterns, and providing actionable recommendations from datasets"
    system_prompt: "You are a data analysis specialist. Analyze the provided information, find patterns and formulate practical recommendations. IMPORTANT: Your response MUST follow the exact JSON schema provided. Answer in English only. Required fields: data_summary, key_insights, recommendations, confidence_level."
    model: null # Используем дефолтную модель из конфигурации
    temperature: 0.4
    max_tokens: 1800
    response_format:
      type: "json"
      description: "Structured data analysis with insights and recommendations"
      json_schema:
        type: "object"
        properties:
          data_summary:
            type: "string"
            description: "Brief description of the data"
          key_insights:
            type: "array"
            items:
              type: "string"
            description: "Main findings and insights"
          metrics:
            type: "object"
            description: "Key metrics"
            additionalProperties:
              type: "object"
              properties:
                value:
                  type: "number"
                trend:
                  type: "string"
                  enum: ["up", "down", "stable"]
                significance:
                  type: "string"
                  enum: ["high", "medium", "low"]
          recommendations:
            type: "array"
            items:
              type: "object"
              properties:
                action:
                  type: "string"
                  description: "Recommended action"
                priority:
                  type: "string"
                  enum: ["high", "medium", "low"]
                impact:
                  type: "string"
                  enum: ["high", "medium", "low"]
              required: ["action", "priority", "impact"]
          confidence_level:
            type: "number"
            minimum: 0
            maximum: 1
            description: "Confidence level in analysis"
          limitations:
            type: "array"
            items:
              type: "string"
            description: "Analysis limitations"
        required:
          [
            "data_summary",
            "key_insights",
            "recommendations",
            "confidence_level",
          ]

  # Планировщик задач
  task_planner:
    id: "task_planner"
    name: "Task Planner"
    description: "Project planning assistant for breaking down complex projects into manageable tasks with timelines and resource estimates"
    system_prompt: "You are a project management expert. Analyze projects, break them down into tasks, estimate timeframes and resources. IMPORTANT: Your response MUST follow the exact JSON schema provided. Answer in English only. Required fields: project_breakdown, tasks, timeline."
    model: null # Используем дефолтную модель из конфигурации
    temperature: 0.5
    max_tokens: 2000
    response_format:
      type: "json"
      description: "Structured project plan with tasks and timelines"
      json_schema:
        type: "object"
        properties:
          project_breakdown:
            type: "string"
            description: "Project analysis and breakdown"
          tasks:
            type: "array"
            items:
              type: "object"
              properties:
                id:
                  type: "integer"
                title:
                  type: "string"
                description:
                  type: "string"
                priority:
                  type: "string"
                  enum: ["high", "medium", "low"]
                estimated_time:
                  type: "string"
                dependencies:
                  type: "array"
                  items:
                    type: "integer"
                skills_required:
                  type: "array"
                  items:
                    type: "string"
              required:
                ["id", "title", "description", "priority", "estimated_time"]
          timeline:
            type: "object"
            properties:
              total_estimated_time:
                type: "string"
              milestones:
                type: "array"
                items:
                  type: "object"
                  properties:
                    date:
                      type: "string"
                    goal:
                      type: "string"
                  required: ["date", "goal"]
            required: ["total_estimated_time"]
          resources_needed:
            type: "array"
            items:
              type: "string"
          risks:
            type: "array"
            items:
              type: "object"
              properties:
                risk:
                  type: "string"
                mitigation:
                  type: "string"
              required: ["risk", "mitigation"]
        required: ["project_breakdown", "tasks", "timeline"]
