# Предустановленные AI агенты
# Этот файл содержит конфигурации агентов, которые будут загружены при старте приложения

agents:
  # Базовый ассистент (по умолчанию)
  default:
    id: "default"
    name: "Default Assistant"
    description: "Default AI assistant agent."
    system_prompt: "You are a helpful AI assistant. Answer the user's questions to the best of your ability."
    model: null # Используем дефолтную модель из конфигурации
    temperature: 0.7
    max_tokens: 1000
    response_format: null

  # Математический ассистент
  math_assistant:
    id: "math_assistant"
    name: "Math Assistant"
    description: "Специализированный математический ассистент с структурированными ответами"
    system_prompt: "Ты математический ассистент. Решай математические задачи пошагово и четко структурируй ответы. Всегда проверяй правильность решения."
    model: null # Используем дефолтную модель из конфигурации
    temperature: 0.3
    max_tokens: 1500
    response_format:
      type: "json"
      description: "Структурированный ответ для математических задач с пошаговым решением"
      json_schema:
        type: "object"
        properties:
          problem_analysis:
            type: "string"
            description: "Анализ математической задачи"
          solution_steps:
            type: "array"
            items:
              type: "object"
              properties:
                step:
                  type: "integer"
                description:
                  type: "string"
                formula:
                  type: "string"
                calculation:
                  type: "string"
              required: ["step", "description"]
          final_answer:
            type: "string"
            description: "Окончательный ответ"
          verification:
            type: "string"
            description: "Проверка правильности решения"
          confidence:
            type: "number"
            minimum: 0
            maximum: 1
            description: "Уверенность в правильности (0-1)"
        required:
          ["problem_analysis", "solution_steps", "final_answer", "confidence"]
      examples:
        - |
          {
            "problem_analysis": "Нужно найти производную функции f(x) = x² + 3x + 2",
            "solution_steps": [
              {
                "step": 1,
                "description": "Применяем правило дифференцирования для каждого слагаемого",
                "formula": "d/dx(x²) + d/dx(3x) + d/dx(2)"
              },
              {
                "step": 2,
                "description": "Вычисляем производную каждого слагаемого",
                "calculation": "2x + 3 + 0"
              }
            ],
            "final_answer": "f'(x) = 2x + 3",
            "verification": "Проверим: f'(1) = 2(1) + 3 = 5. Это верно.",
            "confidence": 0.98
          }

  # Кодовый ассистент
  code_assistant:
    id: "code_assistant"
    name: "Code Assistant"
    description: "Специализированный программный ассистент для решения задач программирования"
    system_prompt: "Ты опытный программист. Анализируй задачи программирования, предлагай эффективные решения с объяснениями и тестами."
    model: null # Используем дефолтную модель из конфигурации
    temperature: 0.2
    max_tokens: 2000
    response_format:
      type: "json"
      description: "Структурированный ответ для задач программирования"
      json_schema:
        type: "object"
        properties:
          task_understanding:
            type: "string"
            description: "Понимание задачи"
          approach:
            type: "string"
            description: "Выбранный подход к решению"
          code:
            type: "object"
            properties:
              language:
                type: "string"
                description: "Язык программирования"
              content:
                type: "string"
                description: "Код решения"
              explanation:
                type: "string"
                description: "Объяснение кода"
            required: ["language", "content", "explanation"]
          test_cases:
            type: "array"
            items:
              type: "object"
              properties:
                input:
                  type: "string"
                  description: "Тестовые данные"
                expected_output:
                  type: "string"
                  description: "Ожидаемый результат"
              required: ["input", "expected_output"]
          complexity:
            type: "object"
            properties:
              time:
                type: "string"
                description: "Временная сложность"
              space:
                type: "string"
                description: "Пространственная сложность"
            required: ["time", "space"]
          improvements:
            type: "array"
            items:
              type: "string"
            description: "Предложения по улучшению"
        required: ["task_understanding", "approach", "code", "complexity"]
      examples:
        - |
          {
            "task_understanding": "Нужно написать функцию для сортировки массива целых чисел",
            "approach": "Используем встроенный алгоритм сортировки Python",
            "code": {
              "language": "python",
              "content": "def sort_array(arr):\n    return sorted(arr)",
              "explanation": "Функция принимает массив и возвращает отсортированный массив, используя встроенную функцию sorted()"
            },
            "test_cases": [
              {
                "input": "[3, 1, 4, 1, 5]",
                "expected_output": "[1, 1, 3, 4, 5]"
              }
            ],
            "complexity": {
              "time": "O(n log n)",
              "space": "O(n)"
            },
            "improvements": ["Можно добавить параметр для выбора направления сортировки"]
          }

  # Аналитический ассистент
  data_analyst:
    id: "data_analyst"
    name: "Data Analyst"
    description: "Ассистент для анализа данных и выработки инсайтов"
    system_prompt: "Ты специалист по анализу данных. Анализируй предоставленную информацию, находи закономерности и формулируй практические рекомендации."
    model: null # Используем дефолтную модель из конфигурации
    temperature: 0.4
    max_tokens: 1800
    response_format:
      type: "json"
      description: "Структурированный анализ данных с инсайтами и рекомендациями"
      json_schema:
        type: "object"
        properties:
          data_summary:
            type: "string"
            description: "Краткое описание данных"
          key_insights:
            type: "array"
            items:
              type: "string"
            description: "Основные выводы"
          metrics:
            type: "object"
            description: "Ключевые метрики"
            additionalProperties:
              type: "object"
              properties:
                value:
                  type: "number"
                trend:
                  type: "string"
                  enum: ["up", "down", "stable"]
                significance:
                  type: "string"
                  enum: ["high", "medium", "low"]
          recommendations:
            type: "array"
            items:
              type: "object"
              properties:
                action:
                  type: "string"
                  description: "Рекомендуемое действие"
                priority:
                  type: "string"
                  enum: ["high", "medium", "low"]
                impact:
                  type: "string"
                  enum: ["high", "medium", "low"]
              required: ["action", "priority", "impact"]
          confidence_level:
            type: "number"
            minimum: 0
            maximum: 1
            description: "Уровень уверенности в анализе"
          limitations:
            type: "array"
            items:
              type: "string"
            description: "Ограничения анализа"
        required:
          [
            "data_summary",
            "key_insights",
            "recommendations",
            "confidence_level",
          ]

  # Планировщик задач
  task_planner:
    id: "task_planner"
    name: "Task Planner"
    description: "Ассистент для планирования проектов и разбивки задач"
    system_prompt: "Ты эксперт по управлению проектами. Анализируй проекты, разбивай их на задачи, оценивай сроки и ресурсы."
    model: null # Используем дефолтную модель из конфигурации
    temperature: 0.5
    max_tokens: 2000
    response_format:
      type: "json"
      description: "Структурированный план проекта с задачами и временными рамками"
      json_schema:
        type: "object"
        properties:
          project_breakdown:
            type: "string"
            description: "Разбор проекта"
          tasks:
            type: "array"
            items:
              type: "object"
              properties:
                id:
                  type: "integer"
                title:
                  type: "string"
                description:
                  type: "string"
                priority:
                  type: "string"
                  enum: ["high", "medium", "low"]
                estimated_time:
                  type: "string"
                dependencies:
                  type: "array"
                  items:
                    type: "integer"
                skills_required:
                  type: "array"
                  items:
                    type: "string"
              required:
                ["id", "title", "description", "priority", "estimated_time"]
          timeline:
            type: "object"
            properties:
              total_estimated_time:
                type: "string"
              milestones:
                type: "array"
                items:
                  type: "object"
                  properties:
                    date:
                      type: "string"
                    goal:
                      type: "string"
                  required: ["date", "goal"]
            required: ["total_estimated_time"]
          resources_needed:
            type: "array"
            items:
              type: "string"
          risks:
            type: "array"
            items:
              type: "object"
              properties:
                risk:
                  type: "string"
                mitigation:
                  type: "string"
              required: ["risk", "mitigation"]
        required: ["project_breakdown", "tasks", "timeline"]
